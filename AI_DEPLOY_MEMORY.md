# üß† –ü–∞–º—è—Ç–∫–∞ –¥–ª—è –ò–ò –ø–æ –¥–µ–ø–ª–æ—é Piligrim

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ò–ò

### –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
./full-deploy.sh "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

### –î–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
```bash
./quick-fix.sh "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–∫—Å–∞"
```

### –î–ª—è –¥–µ–ø–ª–æ—è –≥–æ—Ç–æ–≤–æ–≥–æ —Ç–µ–≥–∞
```bash
./deploy.sh v2025.01.10-XX
```

### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞
```bash
./check_server_version.sh
```

## üîß –ö–ª—é—á–µ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –°–µ—Ä–≤–µ—Ä
- **SSH**: `yc-vm` (51.250.41.78, yc-user)
- **–°–µ—Ç–∏**: `infra_default` (–æ—Å–Ω–æ–≤–Ω–∞—è), `proxy` (–¥–ª—è Caddy)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**: `api` (–ø–æ—Ä—Ç 4000), `web` (–ø–æ—Ä—Ç 3000)

### URL
- **Frontend**: https://piligrim.5-star-roi.ru/
- **API**: https://piligrim.5-star-roi.ru/api/health

### –û–±—Ä–∞–∑—ã
- **Registry**: GitHub Container Registry (GHCR)
- **–§–æ—Ä–º–∞—Ç**: `ghcr.io/drobotenko-netizen/piligrim/piligrim-{web|api}:{version}`

### –í–∞–∂–Ω–æ
- ‚ùå **–ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ —Ä—É—á–Ω–æ–π
- ‚úÖ **GitHub Actions** —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã —É—Å–ø–µ—à–Ω–æ
- ‚úÖ **–†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π** —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ

## üìù –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏
```bash
# –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥
./quick-fix.sh "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 401 –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ X"
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
```bash
# –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥
./full-deploy.sh "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –æ—Ç—á–µ—Ç–æ–≤"
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –û–±–Ω–æ–≤–∏—Ç—å package.json
./full-deploy.sh "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π"
```

### 4. –ì–æ—Ä—è—á–∏–π —Ñ–∏–∫—Å
```bash
# –°—Ä–æ—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
./quick-fix.sh "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∏–∫—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"
```

## üö® Troubleshooting

### –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: `ssh yc-vm "echo test"`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å git —Å—Ç–∞—Ç—É—Å: `git status`
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ QUICK_DEPLOY.md

### –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã: `ssh yc-vm "docker ps"`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `ssh yc-vm "docker logs api"`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç–∏: `ssh yc-vm "docker network ls"`

---
*–î–ª—è –ò–ò: –∏—Å–ø–æ–ª—å–∑—É–π —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –≤ –Ω–æ–≤—ã—Ö —á–∞—Ç–∞—Ö –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è*

