# üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–∞ —Å–º–µ–Ω –∏–∑ iiko

**–î–∞—Ç–∞:** 01.10.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## üìä –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å–º–µ–Ω—ã –∏–∑ —á–µ–∫–æ–≤ iiko, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ —Ç–∞–±–ª–∏—Ü—É `IikoReceipt`. 
–≠—Ç–æ **–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥**, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π:
- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–µ–∫–∏ iiko
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –ø–æ –¥–∞—Ç–∞–º
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ orderType/deliveryServiceType ‚Üí Channel
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ payTypes ‚Üí TenderType

---

## üó∫Ô∏è –ú–∞–ø–ø–∏–Ω–≥–∏

### –ö–∞–Ω–∞–ª—ã –ø—Ä–æ–¥–∞–∂ (Channel)

| iiko orderType | iiko deliveryServiceType | ‚Üí Channel |
|---|---|---|
| "–û–±—ã—á–Ω—ã–π –∑–∞–∫–∞–∑" | null | **Dine-in** |
| "–î–æ—Å—Ç–∞–≤–∫–∞ —Å–∞–º–æ–≤—ã–≤–æ–∑" | "PICKUP" | **Pickup** |
| "–î–æ—Å—Ç–∞–≤–∫–∞ –∫—É—Ä—å–µ—Ä–æ–º" | "COURIER" | **Grab** |
| –ª—é–±–æ–π | "COURIER" | **Grab** |
| –ª—é–±–æ–π | "PICKUP" | **Pickup** |

### –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã (TenderType)

| iiko PayType | ‚Üí TenderType |
|---|---|
| "–ù–∞–ª–∏—á–Ω—ã–µ" | **–ù–∞–ª–∏—á–Ω—ã–µ** |
| "–ò–ü –°–±–µ—Ä", "–û–û–û –°–±–µ—Ä", "card" | **–ö–∞—Ä—Ç–∞** |
| "QR", "–ö—å—é–ê—Ä" | **QR-–∫–æ–¥** |
| "–±–æ–Ω—É—Å" | **–ë–æ–Ω—É—Å—ã** |
| –æ—Å—Ç–∞–ª—å–Ω—ã–µ | **–ü—Ä–æ—á–µ–µ** |

---

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ iiko —á–µ–∫–∞—Ö

```typescript
IikoReceipt {
  orderNum: string
  date: DateTime
  orderType: "–û–±—ã—á–Ω—ã–π –∑–∞–∫–∞–∑" | "–î–æ—Å—Ç–∞–≤–∫–∞ –∫—É—Ä—å–µ—Ä–æ–º" | "–î–æ—Å—Ç–∞–≤–∫–∞ —Å–∞–º–æ–≤—ã–≤–æ–∑"
  deliveryServiceType: "COURIER" | "PICKUP" | null
  payTypesJson: string  // JSON –º–∞—Å—Å–∏–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä: ["–ò–ü –°–±–µ—Ä", "–ù–∞–ª–∏—á–Ω—ã–µ"]
  net: int              // —Å—É–º–º–∞ —á–µ–∫–∞ –≤ –∫–æ–ø–µ–π–∫–∞—Ö
  isDeleted: boolean
  returnSum: int        // —Å—É–º–º–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
}
```

### 2. –ü—Ä–æ—Ü–µ—Å—Å –∏–º–ø–æ—Ä—Ç–∞

**–°–∫—Ä–∏–ø—Ç:** `server/scripts/import-shifts-from-iiko.ts`

**–®–∞–≥–∏:**
1. –ü–æ–ª—É—á–∏—Ç—å —á–µ–∫–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥ –∏–∑ `IikoReceipt` (WHERE isDeleted != true)
2. –°–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–∞–º (–¥–µ–Ω—å)
3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è:
   - –°–æ–∑–¥–∞—Ç—å `Shift`:
     - `openAt` = MIN(closeTime –∏–∑ —á–µ–∫–æ–≤ –¥–Ω—è)
     - `closeAt` = MAX(closeTime –∏–∑ —á–µ–∫–æ–≤ –¥–Ω—è)
     - `openedBy/closedBy` = 'iiko-import'
     - `note` = "–ò–º–ø–æ—Ä—Ç –∏–∑ iiko: N —á–µ–∫–æ–≤"
   
   - –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–¥–∞–∂–∏ –ø–æ `channel √ó tenderType`:
     - –ú–∞–ø–ø–∏–Ω–≥ orderType ‚Üí Channel
     - –ü–∞—Ä—Å–∏–Ω–≥ payTypesJson ‚Üí –º–∞—Å—Å–∏–≤ —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã
     - –ú–∞–ø–ø–∏–Ω–≥ –∫–∞–∂–¥–æ–≥–æ payType ‚Üí TenderType
     - –ï—Å–ª–∏ –≤ —á–µ–∫–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã ‚Üí —Å—É–º–º–∞ –¥–µ–ª–∏—Ç—Å—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
   
   - –°–æ–∑–¥–∞—Ç—å `ShiftSale` –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:
     - `grossAmount` = —Å—É–º–º–∞ —á–µ–∫–æ–≤
     - `discounts` = 0 (–ø–æ–∫–∞ —É–ø—Ä–æ—â–∞–µ–º)
     - `refunds` = returnSum –µ—Å–ª–∏ isReturn

4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–Ω–∞–ª—ã –∏ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ UI

1. –û—Ç–∫—Ä—ã—Ç—å `/shifts`
2. –ù–∞–∂–∞—Ç—å **"–ò–º–ø–æ—Ä—Ç –∏–∑ iiko"**
3. –°–∏—Å—Ç–µ–º–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å–º–µ–Ω—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
cd server
npx tsx scripts/import-shifts-from-iiko.ts "2025-09-01" "2025-10-01"
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- –ü–µ—Ä–≤—ã–π: fromDate (YYYY-MM-DD)
- –í—Ç–æ—Ä–æ–π: toDate (YYYY-MM-DD)

### –í–∞—Ä–∏–∞–Ω—Ç –í: –ß–µ—Ä–µ–∑ API

```bash
POST /api/iiko/import/shifts
Content-Type: application/json

{
  "fromDate": "2025-09-01",
  "toDate": "2025-10-01"
}
```

---

## üìà –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** 251 —á–µ–∫ –∑–∞ 28-30 —Å–µ–Ω—Ç—è–±—Ä—è

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–º–µ–Ω—ã:**

| –î–∞—Ç–∞ | –û—Ç–∫—Ä—ã—Ç–∏–µ | –ó–∞–∫—Ä—ã—Ç–∏–µ | –ß–µ–∫–æ–≤ | –ü—Ä–æ–¥–∞–∂ |
|---|---|---|---|---|
| 28.09.2025 | 04:44 | 14:53 | 71 | 6 |
| 29.09.2025 | 05:16 | 15:26 | 114 | 6 |
| 30.09.2025 | 05:02 | 14:38 | 66 | 6 |

**–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–¥–∞–∂ (–ø—Ä–∏–º–µ—Ä 30.09):**
- Dine-in √ó –ö–∞—Ä—Ç–∞: 396.15 ‚ÇΩ
- Dine-in √ó –ù–∞–ª–∏—á–Ω—ã–µ: 10.40 ‚ÇΩ
- Dine-in √ó –ë–æ–Ω—É—Å—ã: 5.95 ‚ÇΩ
- Grab √ó –ö–∞—Ä—Ç–∞: 35.75 ‚ÇΩ
- Grab √ó –ù–∞–ª–∏—á–Ω—ã–µ: 20.65 ‚ÇΩ
- Dine-in √ó –ü—Ä–æ—á–µ–µ: 0 ‚ÇΩ

---

## ‚öôÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
–ï—Å–ª–∏ –∫–∞–Ω–∞–ª–∞ –∏–ª–∏ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã –Ω–µ—Ç –≤ –ë–î - —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ö–∞–Ω–∞–ª—ã: Dine-in, Pickup, Delivery, Grab, Foodpanda
- –°–ø–æ—Å–æ–±—ã: –ù–∞–ª–∏—á–Ω—ã–µ, –ö–∞—Ä—Ç–∞, QR-–∫–æ–¥, –ë–æ–Ω—É—Å—ã, –ü—Ä–æ—á–µ–µ

### 2. –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–º–µ–Ω—ã –Ω–∞ –¥–∞—Ç—É –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
- –ï—Å–ª–∏ —Å–º–µ–Ω–∞ —É–∂–µ –µ—Å—Ç—å ‚Üí –ø—Ä–æ–ø—É—Å–∫ –¥–Ω—è
- –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –±–µ–∑ –¥—É–±–ª–µ–π

### 3. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–º–µ—à–∞–Ω–Ω—ã—Ö –æ–ø–ª–∞—Ç
–ï—Å–ª–∏ –≤ —á–µ–∫–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `["–ò–ü –°–±–µ—Ä", "–ù–∞–ª–∏—á–Ω—ã–µ"]`):
- –°—É–º–º–∞ —á–µ–∫–∞ –¥–µ–ª–∏—Ç—Å—è –ø–æ—Ä–æ–≤–Ω—É –º–µ–∂–¥—É —Å–ø–æ—Å–æ–±–∞–º–∏
- –ö–∞–∂–¥–∞—è —á–∞—Å—Ç—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π ShiftSale

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
- –ï—Å–ª–∏ `isReturn = true` ‚Üí —Å—É–º–º–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `refunds`
- –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `returnSum`

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ vs —Ä—É—á–Ω–æ–π –≤–≤–æ–¥

| –†—É—á–Ω–æ–π –≤–≤–æ–¥ | –ò–º–ø–æ—Ä—Ç –∏–∑ iiko |
|---|---|
| ‚è±Ô∏è 5-10 –º–∏–Ω—É—Ç –Ω–∞ —Å–º–µ–Ω—É | ‚ö° –°–µ–∫—É–Ω–¥—ã –Ω–∞ –ª—é–±–æ–µ –∫–æ–ª-–≤–æ —Å–º–µ–Ω |
| ‚ùå –í–æ–∑–º–æ–∂–Ω—ã –æ—à–∏–±–∫–∏ –≤–≤–æ–¥–∞ | ‚úÖ –¢–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ iiko |
| üîÑ –ù—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å | ü§ñ –û–¥–∏–Ω —Ä–∞–∑ –Ω–∞—Å—Ç—Ä–æ–∏–ª - —Ä–∞–±–æ—Ç–∞–µ—Ç |
| üìä –†—É—á–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ | üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è |

---

## üîÆ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### –§–∞–∑–∞ 1 (—Ç–µ–∫—É—â–∞—è): ‚úÖ
- –ò–º–ø–æ—Ä—Ç –∏–∑ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —á–µ–∫–æ–≤
- –ë–∞–∑–æ–≤—ã–π –º–∞–ø–ø–∏–Ω–≥ –∫–∞–Ω–∞–ª–æ–≤ –∏ —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã
- UI –∫–Ω–æ–ø–∫–∞ –∏–º–ø–æ—Ä—Ç–∞

### –§–∞–∑–∞ 2 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
- [ ] –ò–º–ø–æ—Ä—Ç –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ iiko API `/resto/api/v2/cashshifts/list`
  - –ü–æ–ª—É—á–µ–Ω–∏–µ `salesCash`, `salesCard` –Ω–∞–ø—Ä—è–º—É—é
  - –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Å–ø–æ—Å–æ–±–∞–º –æ–ø–ª–∞—Ç—ã
  
- [ ] –£–ª—É—á—à–µ–Ω–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ –∫–∞–Ω–∞–ª–æ–≤:
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Grab vs Foodpanda —á–µ—Ä–µ–∑ deliveryServiceType
  - –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –º–∞–ø–ø–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] –£—á—ë—Ç —Å–∫–∏–¥–æ–∫ –∏ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤:
  - –ü–∞—Ä—Å–∏–Ω–≥ DishDiscountSumInt –∏–∑ rawJson
  - –î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ returnSum

- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é:
  - Cron –∑–∞–¥–∞—á–∞: –∫–∞–∂–¥–æ–µ —É—Ç—Ä–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—á–µ—Ä–∞—à–Ω–∏–π –¥–µ–Ω—å
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

---

## üìù –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

**Backend:**
- `server/scripts/import-shifts-from-iiko.ts` - —Å–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞
- `server/src/modules/iiko/router.ts` - API endpoint
- `server/prisma/schema.prisma` - –º–æ–¥–µ–ª–∏ Shift/ShiftSale

**Frontend:**
- `client/src/app/(dashboard)/shifts/ui/ShiftsClient.tsx` - UI —Å –∫–Ω–æ–ø–∫–æ–π –∏–º–ø–æ—Ä—Ç–∞

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `docs/iiko-api-grouped/—Å–º–µ–Ω—ã.md` - –æ–ø–∏—Å–∞–Ω–∏–µ API —Å–º–µ–Ω iiko
- `docs/accaunting.md` - –¢–ó Finance v3

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ò–º–ø–æ—Ä—Ç –æ–¥–Ω–æ–≥–æ –¥–Ω—è
```bash
npx tsx scripts/import-shifts-from-iiko.ts "2025-09-30" "2025-10-01"
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ 1 —Å–º–µ–Ω–∞ —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ 6 –ø—Ä–æ–¥–∞–∂ (channel √ó tenderType)
- ‚úÖ –°—É–º–º—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —á–µ–∫–∞–º

### –¢–µ—Å—Ç 2: –ò–º–ø–æ—Ä—Ç –ø–µ—Ä–∏–æ–¥–∞
```bash
npx tsx scripts/import-shifts-from-iiko.ts "2025-09-01" "2025-10-01"
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ N —Å–º–µ–Ω (–ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –¥–Ω–µ–π —Å —á–µ–∫–∞–º–∏)
- ‚úÖ –ü—Ä–æ–¥–∞–∂–∏ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–µ–π –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ

### –¢–µ—Å—Ç 3: UI –∏–º–ø–æ—Ä—Ç
1. –û—Ç–∫—Ä—ã—Ç—å `/shifts`
2. –ù–∞–∂–∞—Ç—å "–ò–º–ø–æ—Ä—Ç –∏–∑ iiko"
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–≤–æ–¥ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ–∫–æ–≤
–ò–º–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å **—É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏** —á–µ–∫–∞–º–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `IikoReceipt`.

–ü–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º —Å–º–µ–Ω –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ–∫–∏:
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ —á–µ–∫–æ–≤
npx tsx scripts/import-iiko-receipts.ts
```

### 2. –í–∞–ª—é—Ç–∞ –∏ —Ç–æ—á–Ω–æ—Å—Ç—å
- –í—Å–µ —Å—É–º–º—ã –≤ **–∫–æ–ø–µ–π–∫–∞—Ö** (int)
- –°—É–º–º—ã –∏–∑ iiko —É–∂–µ –≤ –∫–æ–ø–µ–π–∫–∞—Ö (net, returnSum)
- –î–µ–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–º–µ—à–∞–Ω–Ω—ã—Ö –æ–ø–ª–∞—Ç–∞—Ö –æ–∫—Ä—É–≥–ª—è–µ—Ç—Å—è –≤–Ω–∏–∑

### 3. –ö–∞–Ω–∞–ª—ã –¥–æ—Å—Ç–∞–≤–∫–∏
–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è —É–ø—Ä–æ—â–∞–µ—Ç:
- –í—Å–µ COURIER ‚Üí Grab
- Foodpanda –æ—Ç–¥–µ–ª—å–Ω–æ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è (–Ω—É–∂–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥)

–î–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è Grab vs Foodpanda –Ω—É–∂–Ω–æ:
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ IikoReceipt –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏–∑ rawJson

---

## üéä –ò—Ç–æ–≥

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç —Å–º–µ–Ω –∏–∑ iiko** –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç!

- ‚úÖ –ù–µ—Ç —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞
- ‚úÖ –¢–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —á–µ–∫–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
- ‚úÖ –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –∫–∞–Ω–∞–ª–∞–º –∏ —Å–ø–æ—Å–æ–±–∞–º –æ–ø–ª–∞—Ç—ã
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ P&L –æ—Ç—á—ë—Ç–∞–º

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç –∏–∑ iiko –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–±, —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞–µ–≤.

